removeStrategy:
  rbac: SYNC
  items: NONE
items:
  # Non-Casc
  - kind: managedController
    name: team-a
    configuration:
      kubernetes:
        memory: 2048
        cpus: 1.0
        disk: 20
        storageClassName: "gp3"
  # Casc, Non-HA
  - kind: managedController
    name: team-b
    configuration:
      kubernetes:
        memory: 6144
        cpus: 2.0
        disk: 5
        storageClassName: "gp3"
        yaml: |-
            ---
            apiVersion: "v1"
            kind: "Service"
            metadata:
              labels:
                # It requires to be installed CloudBees CI Prometheus plugin
                operated.prometheus: "true"
    properties:
      - configurationAsCode:
          bundle: "main/bp02.team-b"
  # Casc, HA    
  - kind: managedController
    name: team-c-ha
    configuration:
      kubernetes:
        memory: 6144
        cpus: 2.0
        disk: 5
        replication:
          config:
            maxReplicas: 4
            replicas: 2
            targetCPUUtilizationPercentage: 50
        nodeSelectors: "ci_type=cb-apps"
        yaml: |-
          ---
          apiVersion: apps/v1
          kind: Deployment
          spec:
            template:
              spec:
                tolerations:
                  - key: "dedicated"
                    operator: "Equal"
                    value: "cb-apps"
                    effect: "NoSchedule"
          ---
          apiVersion: "v1"
          kind: "Service"
          metadata:
            labels:
              # It requires to be installed CloudBees CI Prometheus plugin
              operated.prometheus: "true"           
    properties:
      - configurationAsCode:
          bundle: "main/bp02.team-b"